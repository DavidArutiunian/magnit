(this["webpackJsonp@magnit/frontend"]=this["webpackJsonp@magnit/frontend"]||[]).push([[10],{302:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var c=n(136),i=n(9),a=n(289),o=(n(0),function(t){var e=t.children,n=Object(c.a)(t,["children"]);return Object(i.jsx)(a.a,Object.assign({container:!0,direction:"column",css:{width:"100%",minHeight:"100vh"}},n),e)});o.displayName="SectionLayout"},303:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=n(9),i=n(289),a=n(134),o=n(294),r=(n(0),function(t){var e=t.title,n=t.children;return Object(c.jsx)(i.a,{item:!0,css:{height:"var(--section-title-height)",boxShadow:"0 6px 20px rgba(220, 227, 235, 0.3)"}},Object(c.jsx)(a.a,{square:!0,css:{height:"100%",display:"flex",alignItems:"center",boxShadow:"none !important"}},Object(c.jsx)(i.a,{container:!0,css:function(t){return{paddingLeft:t.spacing(4),paddingRight:t.spacing(4)}}},Object(c.jsx)(i.a,{item:!0,xs:!0},Object(c.jsx)(o.a,{variant:"h4",component:"div"},Object(c.jsx)("span",null,e))),n)))});r.displayName="SectionTitle"},306:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var c=n(9),i=n(102),a=n(222),o=(n(0),function(t){var e=t.onClose,n=t.open,o=t.width,r=t.children;return Object(c.jsx)(i.a,{open:!!n,onClose:e},Object(c.jsx)("div",{css:function(t){return{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:t.spacing(6),maxWidth:"100%",backgroundColor:t.colors.white,width:o||t.spacing(6),borderRadius:6}}},Object(c.jsx)("div",{css:function(t){return{fontSize:t.fontSize.xxLarge,position:"absolute",top:"-.5em",right:"-.5em",color:t.colors.white,backgroundColor:t.colors.gray,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",cursor:"pointer"}},onClick:e},Object(c.jsx)(a.a,{css:function(t){return{fontSize:t.fontSize.small}}})),r))});o.displayName="SimpleModal"},316:function(t,e,n){"use strict";n.r(e);var c=n(26),i=n(9),a=n(289),o=n(293),r=n(236),s=n(298),l=n(294),u=n(229),j=n(306),b=n(302),d=n(303),p=n(246),f=n(50),g=n(0),x=function(t){var e=t.onSubmit,n=Object(g.useState)(""),a=Object(c.a)(n,2),o=a[0],r=a[1],s=Object(g.useCallback)((function(t){t.preventDefault(),e&&e(o)}),[o,e]);return Object(i.jsx)("form",{action:"",onSubmit:s},Object(i.jsx)("div",{css:function(t){return{fontSize:t.fontSize.larger,marginBottom:t.spacing(2)}}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043e\u0442\u0447\u0435\u0442"),Object(i.jsx)(p.InputField,{onChange:function(t){r(t.target.value)},value:o,placeholder:"\u042d\u043b. \u043f\u043e\u0447\u0442\u0430",autoFocus:!0,type:"email",required:!0,fullWidth:!0}),Object(i.jsx)(p.Button,{type:"submit",css:function(t){return{display:"flex",margin:"".concat(t.spacing(6)," auto 0")}}},Object(i.jsx)(f.SendIcon,null),"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))};x.displayName="SendReportForm";var O,m=n(219),h=n(248),S=n(137),v=(O={},Object(m.a)(O,S.a.IN_PROGRESS,"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"),Object(m.a)(O,S.a.ON_CHECK,"\u041d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435"),Object(m.a)(O,S.a.DRAFT,"Draft"),Object(m.a)(O,S.a.COMPLETED,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d"),O),k=function(t){var e=[{title:"\u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u041e\u0420",text:"\u0422\u0435\u0440\u0435\u0449\u0435\u043d\u043a\u043e \u0413\u0435\u043d\u043d\u0430\u0434\u0438\u0439 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u043e\u0432\u0438\u0447"},{title:"\u041c\u0415\u0421\u0422\u041e\u041f\u041e\u041b\u041e\u0416\u0415\u041d\u0418\u0415",text:"\u0427\u0435\u043b\u044f\u0431\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0427\u0435\u043b\u044f\u0431\u0438\u043d\u0441\u043a, \u0443\u043b\u0438\u0446\u0430 \u0416\u0435\u043b\u0435\u0437\u043d\u0430\u044f, 5"},{title:"\u0424\u041e\u0420\u041c\u0410\u0422 \u041e\u0411\u042a\u0415\u041a\u0422\u0410",text:"\u041c\u041a"},{title:"\u0414\u0410\u0422\u0410 \u0421\u041e\u0417\u0414\u0410\u041d\u0418\u042f",text:Object(h.getFriendlyDate)(new Date(t.report.createdAt))},{title:"\u0421\u0422\u0410\u0422\u0423\u0421",text:v[t.report.status]}];return Object(i.jsx)(p.SelectableBlockWrapper,null,Object(i.jsx)(a.a,{css:function(t){return{padding:t.spacing(4)}}},Object(i.jsx)(l.a,{css:function(t){return{fontSize:t.fontSize.normal}}},t.title),Object(i.jsx)(a.a,{container:!0,spacing:2,justify:"space-between",css:function(t){return{marginTop:t.spacing(2)}}},e.map((function(t,e){return Object(i.jsx)(a.a,{item:!0,xs:12,md:"auto",key:e},Object(i.jsx)(a.a,{css:function(t){return{color:t.colors.gray,fontSize:t.fontSize.sNormal,marginBottom:t.spacing(1)}}},t.title),Object(i.jsx)(a.a,{css:function(t){return{fontSize:t.fontSize.normal}}},t.text))})))))};k.displayName="ReportHeader";var y=[{key:"index",label:"\u2116"},{key:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430"},{key:"createdAt",label:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f"},{key:"version",label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0430\u0432\u043e\u043a"}],w=function(t){var e=t.templates.map((function(t,e){return{selected:!1,index:e+1,title:t.title,createdAt:Object(h.getFriendlyDate)(new Date(t.createdAt)),version:t.version}}));return Object(i.jsx)(g.Fragment,null,Object(i.jsx)(l.a,{component:"div",css:function(t){return{fontSize:t.fontSize.larger,marginBottom:t.spacing(2)}}},t.title," (",Object(h.getFriendlyDate)(new Date(t.deadline)),")"),Object(i.jsx)("div",{css:function(t){return{color:t.colors.gray,fontSize:t.fontSize.normal,marginBottom:t.spacing()}}},Object(i.jsx)("span",{css:{fontWeight:500}},"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c:")," \u0420\u0443\u043a\u0430\u0441\u0442\u044b\u0439 \u0418\u043d\u043d\u043e\u043a\u0435\u043d\u0442\u0438\u0439 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447"),Object(i.jsx)(p.Table,{hover:!1,pagination:!1,columns:y,data:e}))};w.displayName="ReportStage";var z=function(t){var e=t.index,n=t.onMouseDown,c=t.onFocus,o=t.focused,r=t.last,s=t.checked,l=t.first,u=t.children;return Object(i.jsx)(p.SelectableBlockWrapper,{css:function(t){return{padding:"".concat(t.spacing(3)," ").concat(t.spacing(4)),"&:hover":{background:t.colors.light},zIndex:o?1300:"initial"}},focused:o,onMouseDown:n,onFocus:c},Object(i.jsx)(a.a,{container:!0,spacing:2},Object(i.jsx)(a.a,{item:!0,css:{position:"relative"}},Object(i.jsx)("div",{css:function(t){return{width:t.spacing(3),height:t.spacing(3),borderRadius:"50%",border:"2px solid ".concat(t.colors.primary),zIndex:2,color:s?t.colors.white:"initial",background:s?t.colors.primary:t.colors.white,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}}},s&&Object(i.jsx)(f.CheckIcon,null),!s&&e&&Object(i.jsx)("div",{css:function(t){return{fontSize:t.fontSize.small,color:t.colors.primary}}},e)),!l&&Object(i.jsx)("div",{css:function(t){return{width:t.spacing(.25),height:t.spacing(3),background:t.colors.lightGray,position:"absolute",top:t.spacing(-2),left:0,right:0,margin:"auto",zIndex:1}}}),!r&&Object(i.jsx)("div",{css:function(t){return{width:t.spacing(.25),height:"calc(100% - ".concat(t.spacing(2),")"),background:t.colors.lightGray,position:"absolute",top:t.spacing(4),left:0,right:0,margin:"auto",zIndex:1}}})),Object(i.jsx)(a.a,{item:!0},u)))};z.displayName="VerticalStepper";var C=n(85);e.default=function(t){var e=t.taskId,n=Object(g.useContext)(C.a),p=Object(g.useState)(-1),f=Object(c.a)(p,2),O=f[0],m=f[1],h=Object(g.useState)(null),v=Object(c.a)(h,2),y=v[0],D=v[1],I=Object(g.useState)(!1),F=Object(c.a)(I,2),N=F[0],R=F[1],B=Object(g.useState)(null),E=Object(c.a)(B,2),T=E[0],W=E[1];function M(){D(null)}Object(g.useEffect)((function(){Object(S.l)(n.courier,e).then((function(t){return W(t.report)})).catch(console.error)}),[n.courier,e]);var A=Object(g.useCallback)((function(t){R(!1),Object(S.n)(n.courier,e,t).then((function(){return n.setSnackbarState({open:!0,message:"\u041e\u0442\u0447\u0451\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0430 ".concat(t)})})).catch((function(){n.setSnackbarError(!0),n.setSnackbarState({open:!0,message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0447\u0451\u0442 \u043d\u0430 ".concat(t)})}))}),[n,e]),L=Object(g.useCallback)((function(){M(),Object(S.i)(n.courier,e).catch((function(){n.setSnackbarError(!0),n.setSnackbarState({open:!0,message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043e\u0442\u0447\u0451\u0442"})}))}),[n,e]);return Object(i.jsx)(b.a,null,Object(i.jsx)(j.a,{width:370,open:N,onClose:function(){R(!1)}},Object(i.jsx)(x,{onSubmit:A})),Object(i.jsx)(d.a,{title:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044e"},Object(i.jsx)(a.a,{item:!0},Object(i.jsx)(o.a,{onClick:function(t){D(t.currentTarget)}},Object(i.jsx)(u.a,null))),Object(i.jsx)(r.a,{keepMounted:!0,open:Boolean(y),anchorEl:y,onClose:M},Object(i.jsx)(s.a,{onClick:L},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u043e\u0442\u0447\u0435\u0442 (.xls)"),Object(i.jsx)(s.a,{onClick:function(){M(),R(!0)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430 email"))),Object(i.jsx)(a.a,{css:function(t){return{maxWidth:t.maxTemplateWidth,margin:t.spacing(4),position:"relative"}}},T&&Object(i.jsx)(k,{title:T.title,report:T}),T&&T.stages.length>0&&Object(i.jsx)(l.a,{css:function(t){var e=t.spacing,n=t.fontSize,c=t.colors;return{fontSize:n.large,padding:" ".concat(e(5)," ").concat(e(4)," ").concat(e()," "),backgroundColor:c.white}}},"\u042d\u0442\u0430\u043f\u044b \u0440\u0430\u0431\u043e\u0442\u044b"),T&&T.stages.map((function(t,e){var n=e+1;return Object(i.jsx)(z,{key:t.id,index:n,checked:t.finished,focused:O===t.id,onMouseDown:function(){m(t.id)},onFocus:function(){m(t.id)},first:!e,last:n===T.stages.length},Object(i.jsx)(w,{title:t.title,deadline:t.deadline,templates:t.templates}))}))))}}}]);
//# sourceMappingURL=10.9338c773.chunk.js.map